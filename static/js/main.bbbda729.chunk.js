(this["webpackJsonphome-planner"]=this["webpackJsonphome-planner"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var s=n(3),c=n.n(s),l=n(9),o=n.n(l),a=(n(15),n(10)),i=n(1),r=n(2),j=n(6),u=(n(16),n(8)),b=(n(17),n(0)),d=u.a.generator(),x="1.5",f="#000000";function h(){f="#000000"}function O(){f="#c92a2a"}function m(){f="#364fc7"}function p(){f="#5c940d"}function g(){f="#f6f631"}function y(){f="#ffffff"}function v(){x="1.5"}function N(){x="3"}function k(){x="4.5"}var w=function(e,t,n,s,c,l){var o;return"line"===l?o=d.line(t,n,s,c,{roughness:1.2,strokeWidth:x,stroke:f}):"rectangle"===l?o=d.rectangle(t,n,s-t,c-n,{roughness:1.2,strokeWidth:x,stroke:f}):"circle"===l?o=d.ellipse((t+s)/2,(n+c)/2,s-t,c-n,{roughness:1.2,strokeWidth:x,stroke:f}):"pen"===l&&(o=d.line(t,n,s,c,{roughness:1.2,strokeWidth:x,stroke:f})),{id:e,x1:t,y1:n,x2:s,y2:c,type:l,roughElement:o}},C=function(e,t,n,s,c){return Math.abs(e-n)<5&&Math.abs(t-s)<5?c:null},q=function(e,t,n){var s=n.type,c=n.x1,l=n.x2,o=n.y1,a=n.y2;if("rectangle"===s){var i=C(e,t,c,o,"tl"),r=C(e,t,l,o,"tr"),j=C(e,t,c,a,"bl"),u=C(e,t,l,a,"br");return i||r||j||u||(e>=c&&e<=l&&t>=o&&t<=a?"inside":null)}var b={x:c,y:o},d={x:l,y:a},x={x:e,y:t},f=M(b,d)-(M(b,x)+M(d,x)),h=C(e,t,c,o,"start"),O=C(e,t,l,a,"end"),m=Math.abs(f)<.5?"inside":null;return h||O||m},M=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},E=function(e,t,n){return n.map((function(n){return Object(j.a)(Object(j.a)({},n),{},{position:q(e,t,n)})})).find((function(e){return null!==e.position}))},z=function(){if(!window.confirm("Are you sure you want to reset the canvas? This action is irrevertible!"))return!1;window.location.reload(!1)},W=function(){var e=function(e){var t=Object(s.useState)(0),n=Object(r.a)(t,2),c=n[0],l=n[1],o=Object(s.useState)([e]),a=Object(r.a)(o,2),j=a[0],u=a[1];return[j[c],function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="function"===typeof e?e(j[c]):e;if(t){var s=Object(i.a)(j);s[c]=n,u(s)}else{var o=Object(i.a)(j).slice(0,c+1);u([].concat(Object(i.a)(o),[n])),l((function(e){return e+1}))}},function(){return c>0&&l((function(e){return e-1}))},function(){return c<j.length-1&&l((function(e){return e+1}))}]}([]),t=Object(r.a)(e,4),n=t[0],l=t[1],o=t[2],d=t[3],x=Object(s.useState)("none"),f=Object(r.a)(x,2),C=f[0],q=f[1],M=Object(s.useState)("pen"),W=Object(r.a)(M,2),S=W[0],X=W[1],Y=Object(s.useState)(null),K=Object(r.a)(Y,2),L=K[0],B=K[1];Object(s.useLayoutEffect)((function(){var e=document.getElementById("canvas");e.getContext("2d").clearRect(0,0,e.width,e.height);var t=u.a.canvas(e);n.forEach((function(e){var n=e.roughElement;return t.draw(n)}))}),[n]),Object(s.useEffect)((function(){var e=function(e){(e.metaKey||e.ctrlKey)&&"z"===e.key&&(e.shiftKey?d():o())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[o,d]);var F=function(e,t,s,c,o,a){var r=w(e,t,s,c,o,a),j=Object(i.a)(n);j[e]=r,l(j,!0)};return Object(b.jsxs)(c.a.Fragment,{children:[Object(b.jsx)("canvas",{id:"canvas",className:"canva",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){var t=e.clientX,s=e.clientY;if("selection"===S){var c=E(t,s,n);if(c){var o=t-c.x1,a=s-c.y1;B(Object(j.a)(Object(j.a)({},c),{},{offsetX:o,offsetY:a})),l((function(e){return e})),"inside"===c.position?q("moving"):q("resize")}}else{var r=n.length,u=w(r,t,s,t,s,S);l((function(e){return[].concat(Object(i.a)(e),[u])})),B(u),q("drawing")}},onMouseMove:function(e){var t=e.clientX,s=e.clientY;if("selection"===S){var c=E(t,s,n);e.target.style.cursor=c?function(e){switch(e){case"tl":case"br":case"start":case"end":return"nwse-resize";case"tr":case"bl":return"nesw-resize";default:return"move"}}(c.position):"default"}if("drawing"===C){var l=n.length-1,o=n[l],i=o.x1,r=o.y1;F(l,i,r,t,s,S)}else if("moving"===C){var j=L.id,u=L.x1,b=L.x2,d=L.y1,x=L.y2,f=L.type,h=t-L.offsetX,O=s-L.offsetY;F(j,h,O,h+(b-u),O+(x-d),f)}else if("resize"===C){var m=L.id,p=L.type,g=function(e,t,n,s){var c=s.x1,l=s.y1,o=s.x2,a=s.y2;switch(n){case"tl":case"start":return{x1:e,y1:t,x2:o,y2:a};case"tr":return{x1:c,y1:t,x2:e,y2:a};case"bl":return{x1:e,y1:l,x2:o,y2:t};case"br":case"end":return{x1:c,y1:l,x2:e,y2:t};default:return null}}(t,s,L.position,Object(a.a)(L,["id","type","position"])),y=g.x1,v=g.y1,N=g.x2,k=g.y2;F(m,y,v,N,k,p)}},onMouseUp:function(){if(L){var e=L.id,t=n[e],s=t.id,c=t.type;if("drawing"===C||"resize"===C){var l=function(e){var t=e.type,n=e.x1,s=e.y1,c=e.x2,l=e.y2;if("rectangle"===t){var o=Math.min(n,c),a=Math.max(n,c);return{x1:o,y1:Math.min(s,l),x2:a,y2:Math.max(s,l)}}return n<c||n===c&&s<l?{x1:n,y1:s,x2:c,y2:l}:{x1:c,y1:l,x2:n,y2:s}}(n[e]),o=l.x1,a=l.y1,i=l.x2,r=l.y2;F(s,o,a,i,r,c)}}q("none"),B(null)}}),Object(b.jsxs)("div",{className:"flex",children:[Object(b.jsx)("div",{className:"content",children:Object(b.jsxs)("div",{className:"tool-box unselectable",children:[Object(b.jsx)("div",{className:"center-text",children:"Tools"}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{autoFocus:!0,className:"btn btn-secondary active",type:"radio",checked:"selection"===S,onChange:function(){return X("selection")}}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/cursor.png"})]}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",checked:"pen"===S,onChange:function(){return X("pen")}}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/pen.png"})]}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",checked:"line"===S,onChange:function(){return X("line")}}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/line.png"})]}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",checked:"rectangle"===S,onChange:function(){return X("rectangle")}}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/rectangle.png"})]}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",checked:"circle"===S,onChange:function(){return X("circle")}}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/circle.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:z}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/reset.png"})]})]})}),Object(b.jsxs)("div",{className:"tool-box-3 unselectable",children:[Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",onClick:o}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/undo.png"})]}),Object(b.jsxs)("label",{className:"tool-sq",children:[Object(b.jsx)("input",{type:"radio",onClick:d}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/redo.png"})]})]}),Object(b.jsxs)("div",{className:"tool-box-2 unselectable",children:[Object(b.jsx)("div",{children:" Width "}),Object(b.jsxs)("div",{className:"width-div",children:[Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:v}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/right/small.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:N}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/right/medium.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:k}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/right/big.png"})]})]}),Object(b.jsx)("div",{children:"Colors"}),Object(b.jsxs)("div",{className:"width-div",children:[Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:h}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/black.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:y}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/white.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:O}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/red.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:m}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/blue.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:p}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/green.png"})]}),Object(b.jsxs)("label",{className:"tool-sq last",children:[Object(b.jsx)("input",{type:"radio",onClick:g}),Object(b.jsx)("img",{alt:"selection tool",className:"tool",src:"/left/colors/yellow.png"})]})]})]})]})]})};o.a.render(Object(b.jsx)(W,{}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.bbbda729.chunk.js.map